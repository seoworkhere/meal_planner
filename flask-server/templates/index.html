<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meal Planner</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <main>
      <section class="jumbotron text-center">
        <h1 class="display-4">Meal Planner</h1>
      </section>

      <section class="container">
        <div class="row">
          <form
            method="POST"
            action="/"
            class="g-3 needs-validation"
            novalidate
          >
            <div class="mb-3">
              <label for="to_include_foods" class="form-label"
                >Which meals do you want to include in your 1 week meal plan?
                breakfast/lunch/dinner/morning snack/afternoon snack
              </label>
              <div class="container">
                <div class="row">Days:</div>
                <div class="row">
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="allDay" />
                        All Days
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="monday" />
                        Monday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="tuesday" />
                        Tuesday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="wednesday" />
                        Wednesday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="thursday" />
                        Thursday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="friday" />
                        Friday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="saturday" />
                        Saturday
                      </label>
                    </div>
                  </div>
                  <div class="col-1 col-md-2 col-sm-4">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" name="day" value="sunday" />
                        Sunday
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <textarea
                id="to_include_foods"
                name="to_include_foods"
                class="form-control"
                rows="2"
                required
              ></textarea> -->
              <!-- <div id="invalid_to_include_foods" style="color: red"></div> -->
            </div>
            <div class="mb-3">
              <label for="food_categories" class="form-label"
                >Are you vegan :</label
              >
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-light">
                  <input
                    type="radio"
                    name="veganCheck"
                    id="veganRadio"
                    value="vegetarian"
                  />
                  Yes
                </label>
                <label class="btn btn-light">
                  <input
                    type="radio"
                    name="veganCheck"
                    id="nonVeganRadio"
                    value="non-vegetarian"
                    checked
                  />
                  No
                </label>
              </div>
            </div>
            <div class="mb-3">
              <label for="food_genre" class="form-label"
                >Your food genre preferences: (Mexican, Italian, Chinese, etc.)
                :</label
              >
              <textarea
                id="food_genre"
                name="food_genre"
                class="form-control"
                rows="2"
                required
              ></textarea>
              <div id="invalid_food_genre" style="color: red"></div>
            </div>
            <div class="mb-3">
              <label for="preffered_foods" class="form-label"
                >Preferred foods (Add atleast 5-10 foods) :</label
              >
              <textarea
                id="preffered_foods"
                name="preffered_foods"
                class="form-control"
                rows="2"
                required
              ></textarea>
              <div id="invalid_preffered_foods" style="color: red"></div>
            </div>
            <div class="mb-3">
              <label for="avoid_foods" class="form-label"
                >Foods to avoid:</label
              >
              <textarea
                id="avoid_foods"
                name="avoid_foods"
                class="form-control"
                rows="2"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="allergic_foods" class="form-label"
                >Allergic foods:</label
              >
              <textarea
                id="allergic_foods"
                name="allergic_foods"
                class="form-control"
                rows="2"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="leftover_days" class="form-label"
                >When do you want to plan leftovers? (Ex. Thursdays for
                dinner)</label
              >
              <textarea
                id="leftover_days"
                name="leftover_days"
                class="form-control"
                rows="2"
                required
              ></textarea>
            </div>

            <div class="mb-3">
              <label for="takeout_days" class="form-label"
                >When do you want to plan takeout food? (Ex. All day Saturday,
                and Wednesday dinner)</label
              >
              <textarea
                id="takeout_days"
                name="takeout_days"
                class="form-control"
                rows="2"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="treats" class="form-label"
                >If you'd like to plan treats in your plan, what are fun foods
                you enjoy?</label
              >
              <textarea
                id="treats"
                name="treats"
                class="form-control"
                rows="2"
                required
              ></textarea>
            </div>

            <button type="submit" class="btn btn-primary" id="submit">
              Submit
            </button>
          </form>
        </div>
        <br />
        <div
          class="alert alert-danger"
          role="alert"
          style="display: none"
          id="errorOccured"
        >
          Something wrong happened. Could you please try again?
          <!-- Error in fetching response from server. -->
        </div>
        <div class="loading-spinner" id="loading" style="display: none">
          <div
            class="d-flex justify-content-center align-items-center"
            style="height: 10vh"
          >
            <div
              class="spinner-border text-primary"
              style="width: 5rem; height: 5rem"
              role="status"
            >
              <span class="sr-only"></span>
            </div>
          </div>
        </div>
        <div class="row" id="scheduleContainer" style="display: none">
          <div class="col">
            <div class="card">
              <h5 class="card-title">Prepared meal schedule :</h5>
              <div class="card-body">
                <div id="schedule-table" class="table-responsive"></div>
              </div>
            </div>
          </div>
        </div>
        <br />
        <div id="ingredientContainer"></div>
      </section>
      <br />
      <br />
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="{{url_for('static', filename='handleResponse.js')}}"></script>
  </body>
</html>
